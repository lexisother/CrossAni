<!DOCTYPE html>

<button onclick="demoAnimation()">trigger</button>
<button onclick="document.querySelector('.box').doTransition('default')">
  reset
</button>

<div style="background-color: red" class="box"></div>

<style>
  .box {
    width: 100px;
    height: 100px;
    border: 5px solid blue;
    margin-top: 1rem;
  }
</style>

<script src="dist/bundle.js"></script>
<script>
  const box = document.querySelector(".box");

  box.transitions = {
    default: {
      state: {},
      reset: true,
      ms: 500,
      easing: EASE.ease,
    },

    step1: {
      state: {
        "background-color": "blue",
        border: "2px dashed red",
      },
      ms: 250,
      easing: EASE.linear,
    },

    step2: {
      state: {
        width: "250px",
        height: "90px",
      },
      ms: 300,
      easing: EASE.in,
    },

    step3: {
      state: {
        transform: "rotate(170deg)",
        "margin-left": "15rem",
      },
      ms: 600,
      easing: EASE.out,
    },

    step4: {
      state: {
        background: "radial-gradient(circle at 110px, red, green)",
        "border-radius": "50%",
        "box-shadow": "0 0 10px black",
        transform: "rotate(170deg) translateX(50px) skewY(40deg)",
      },
      ms: 150,
      easing: EASE.inOut,
    },
  };

  function demoAnimation() {
    box.doTransition("step1").then(() => console.log("transition step1 ended"));
    box.doTransition("step2").then(() => console.log("transition step2 ended"));
    box.doTransition("step3").then(() => console.log("transition step3 ended"));
    box.doTransition("step4").then(() => console.log("transition step4 ended"));
  }
</script>
